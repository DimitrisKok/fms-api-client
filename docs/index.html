<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Client.html">Client</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#._createURL">_createURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#._deleteURL">_deleteURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#._findURL">_findURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#._getURL">_getURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#._globalsURL">_globalsURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#._listURL">_listURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#._logoutURL">_logoutURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#._updateURL">_updateURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#._uploadURL">_uploadURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.authenticate">authenticate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.edit">edit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.find">find</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.globals">globals</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.list">list</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.login">login</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.logout">logout</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.saveState">saveState</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.script">script</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#.upload">upload</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#preDelete">preDelete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#preInit">preInit</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Connection.html">Connection</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Connection.html#._authURL">_authURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Connection.html#._basicAuth">_basicAuth</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Connection.html#._saveToken">_saveToken</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Connection.html#.clears">clears</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Connection.html#.extend">extend</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Connection.html#.generate">generate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Connection.html#.valid">valid</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Connection.html#preInit">preInit</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Credentials.html">Credentials</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Data.html">Data</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Data.html#.clear">clear</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Data.html#.incoming">incoming</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Data.html#.outgoing">outgoing</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Data.html#.status">status</a></span></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-Conversion%2520Utilities.html">Conversion Utilities</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Conversion%252520Utilities.html#~isJson">isJson</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Conversion%252520Utilities.html#~omit">omit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Conversion%252520Utilities.html#~parse">parse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Conversion%252520Utilities.html#~stringify">stringify</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Conversion%252520Utilities.html#~toArray">toArray</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-Filemaker%2520Utilities.html">Filemaker Utilities</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Filemaker%252520Utilities.html#~convertParameters">convertParameters</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Filemaker%252520Utilities.html#~convertPortals">convertPortals</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Filemaker%252520Utilities.html#~convertScripts">convertScripts</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Filemaker%252520Utilities.html#~fieldData">fieldData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Filemaker%252520Utilities.html#~namespace">namespace</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Filemaker%252520Utilities.html#~parseScriptResults">parseScriptResults</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Filemaker%252520Utilities.html#~recordId">recordId</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Filemaker%252520Utilities.html#~sanitizeParameters">sanitizeParameters</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-request.html">request</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-request.html#~handleResponseError">handleResponseError</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-request.html#~interceptRequest">interceptRequest</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#_checkToken">_checkToken</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#transform">transform</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#transformObject">transformObject</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#transformPortals">transformPortals</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#transformRelatedTables">transformRelatedTables</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><!--@h1([pkg.name])-->
<h1>fms-api-client</h1><!--/@-->
<p><a href="https://travis-ci.org/Luidog/fms-api-client"><img src="https://travis-ci.org/Luidog/fms-api-client.png?branch=master" alt="Build Status"></a> <a href="https://snyk.io/test/github/Luidog/fms-api-client?targetFile=package.json"><img src="https://snyk.io/test/github/Luidog/fms-api-client/badge.svg?targetFile=package.json" alt="Known Vulnerabilities"></a> <a href="https://coveralls.io/github/Luidog/fms-api-client?branch=master"><img src="https://coveralls.io/repos/github/Luidog/fms-api-client/badge.svg?branch=master" alt="Coverage Status"></a> <a href="https://github.com/Luidog/fms-api-client/issues"><img src="https://img.shields.io/github/issues/Luidog/fms-api-client.svg?style=plastic" alt="GitHub issues"></a> <a href="https://img.shields.io/github/issues/Luidog/fms-api-client.svg"><img src="https://img.shields.io/github/commits-since/luidog/fms-api-client/latest.svg" alt="Github commits (since latest release)"></a> <a href="https://github.com/Luidog/fms-api-client/blob/master/LICENSE.md"><img src="https://img.shields.io/github/license/Luidog/fms-api-client.svg" alt="GitHub license"></a></p>
<p>A FileMaker Data API client designed to allow easier interaction with a FileMaker application from a web environment. This client abstracts the FileMaker 17 Data API into class based methods. You can find detailed documentation on this project here:</p>
<p><a href="https://luidog.github.io/fms-api-client/">fms-api-client documentation</a></p>
<!--@installation()-->
<h2>Installation</h2><pre class="prettyprint source lang-sh"><code>npm install --save fms-api-client</code></pre><!--/@-->
<h2>Usage</h2><h3>Introduction</h3><p>The fms-api-client is a wrapper around the <a href="https://fm.mutesymphony.com/fmi/data/apidoc/">FileMaker Data API</a>. Much :heart: to FileMaker for their work on the Data API. The client attempts to follow the terminology used by FileMaker wherever possible. the client uses a lightweight datastore to hold Data API connections. The client contains methods which are modeled after the Data API Endpoints.</p>
<p>The client requires that you first connect to a datastore before creating or querying the FileMaker class. You can use the datastore to save a multitude of clients. Each client committed to the datastore will automatically handle Data API Sessions. Once saved to the data store a client's methods can be used to interact with a FileMaker Database without the need for additional authentication.</p>
<p>Each client will manage their own FileMaker Data API session, but the clients can manually open or close their FileMaker sessions by calling either the <code>client.login()</code> method or the <code>client.logout()</code> method. To remove a client from a datastore and log out a session call <code>client.destroy()</code>.</p>
<p>The client supports the same parameter syntax as is found in the <a href="https://fm.mutesymphony.com/fmi/data/apidoc/">Data API Documentation</a>. Where appropriate and useful the client also allows additional parameters. Any method that accepts script or portals in a query or body parameters will also accept the following script and portal parameters:</p>
<h4>Script Array Syntax</h4><p>The custom script parameter follows the following syntax:</p>
<!--@snippet('./examples/schema/scripts-array-schema.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;scripts&quot;: [
    {
      &quot;name&quot;: &quot;At Mos Eisley&quot;,
      &quot;phase&quot;: &quot;presort&quot;,
      &quot;param&quot;: &quot;awesome bar&quot;
    },
    {
      &quot;name&quot;: &quot;First Shot&quot;,
      &quot;phase&quot;: &quot;prerequest&quot;,
      &quot;param&quot;: &quot;Han&quot;
    },
    {
      &quot;name&quot;: &quot;Moof Milker&quot;,
      &quot;param&quot;: &quot;Greedo&quot;
    }
  ]
}</code></pre><blockquote>
<p>File <a href="./examples/schema/scripts-array-schema.json">./examples/schema/scripts-array-schema.json</a>
<!--/@--></p>
</blockquote>
<h4>Portal Array Syntax</h4><p>The custom portal parameter follows the following syntax:</p>
<!--@snippet('./examples/schema/portals-array-schema.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;portals&quot;: [
    { &quot;name&quot;: &quot;planets&quot;, &quot;limit&quot;: 1, &quot;offset&quot;: 1 },
    { &quot;name&quot;: &quot;vehicles&quot;, &quot;limit&quot;: 2 }
  ]
}</code></pre><blockquote>
<p>File <a href="./examples/schema/portals-array-schema.json">./examples/schema/portals-array-schema.json</a>
<!--/@--></p>
</blockquote>
<p><strong>Note:</strong> The FileMaker script and portal syntax will override the alternative script and portal parameter syntax.</p>
<p>In addition to allowing an exanded syntax for invoking script or selecting portals the client will also automatically parse arrays, objects, and numbers to adhere to the requirements of the Data API. Arrays and objects are stringified before being inserted into field data. Also limits and offsets can be set as either a strings or a numbers.</p>
<p>The client will also automatically convert <code>limit</code>, <code>find</code>, and <code>offset</code> into their underscored conterparts as needed. Additionally, if a script result can be parsed as JSON it will be automatically parsed for you by the client.</p>
<p>All methods on the client return promises and each each method will reject with a message and code upon encountering an error. All messages and codes follow the FileMaker Data API where possible.</p>
<p>This project also provides utility modules to aid in working with FileMaker Data API Results. The provided utility modules are <code>fieldData</code>, <code>recordId</code>, and <code>transform</code>. These utilities will accept and return either an object or an an array objects. For more information on the utility modules see the utility section.</p>
<h3>Datastore Connection</h3><p>Connect must be called before the FileMaker class is used. This connect uses Marpat. Marpat is a fork of Camo. Thanks and love to <a href="https://github.com/scottwrobinson">Scott Robinson</a> for his creation and maintenance of Camo. My fork of Camo - Marpat is designed to allow the use of multiple datastores with the focus on encrypted file storage and project flexibility.</p>
<p>For more information on marpat and the different types of supported storage visit <a href="https://github.com/Luidog/marpat">marpat</a></p>
<!--@snippet('./examples/index.js#datastore-connect-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const { connect } = require('marpat');
connect('nedb://memory')</code></pre><blockquote>
<p>Excerpt from <a href="./examples/index.js#L24-L25">./examples/index.js</a>
<!--/@--></p>
</blockquote>
<h3>Client Creation</h3><p>After connecting to a datastore you can import and create clients. A client is created using the create method on the Filemaker class. The FileMaker class accepts an object with the following properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th style="text-align:center">Type</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>application</td>
<td style="text-align:center">String</td>
<td style="text-align:center"><strong>required</strong> The FileMaker application / database to connect to</td>
</tr>
<tr>
<td>server</td>
<td style="text-align:center">String</td>
<td style="text-align:center"><strong>required</strong> The FileMaker server to use as the host. <strong>Note:</strong> Must be an http or https Domain.</td>
</tr>
<tr>
<td>user</td>
<td style="text-align:center">String</td>
<td style="text-align:center"><strong>required</strong> The FileMaker user account to be used when authenticating into the Data API</td>
</tr>
<tr>
<td>password</td>
<td style="text-align:center">String</td>
<td style="text-align:center"><strong>required</strong> The FileMaker user account's password.</td>
</tr>
<tr>
<td>name</td>
<td style="text-align:center">String</td>
<td style="text-align:center"><strong>optional</strong> A name for the client.</td>
</tr>
<tr>
<td>usage</td>
<td style="text-align:center">Boolean</td>
<td style="text-align:center"><strong>optional</strong> Track Data API usage for this client. <strong>Note:</strong> Default is <code>true</code></td>
</tr>
</tbody>
</table>
<!--@snippet('./examples/index.js#client-create-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>    const client = Filemaker.create({
      application: process.env.APPLICATION,
      server: process.env.SERVER,
      user: process.env.USERNAME,
      name: process.env.CLIENT_NAME,
      usage: process.env.CLIENT_USAGE_TRACKING,
      password: process.env.PASSWORD
    });</code></pre><blockquote>
<p>Excerpt from <a href="./examples/index.js#L29-L36">./examples/index.js</a>
<!--/@--></p>
</blockquote>
<p><strong>Note:</strong> The server must be an http or https domain.</p>
<p>A client can be used directly after saving it. The <code>client.save()</code> method takes no arguments and will either reject with an error or resolve with a useable client. The client will automatically handle Data API session creation and expiration. Once a client is saved it will be stored on the datastore for reuse later.</p>
<!--@snippet('./examples/index.js#client-save-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>    return client.save();
  })
  .then(client => authentication(client))
  .then(client => creates(client))
  .then(client => gets(client))
  .then(client => lists(client))
  .then(client => finds(client))
  .then(client => edits(client))
  .then(client => scripts(client))
  .then(client => globals(client))
  .then(client => deletes(client))
  .then(client => uploads(client))
  .then(client => utilities(client))</code></pre><blockquote>
<p>Excerpt from <a href="./examples/index.js#L39-L51">./examples/index.js</a>
<!--/@--></p>
</blockquote>
<p>A client can be removed using either the <code>client.destroy()</code> method, the <code>Filemaker.deleteOne(query)</code> method or the <code>Filemaker.deleteMany(query)</code> method.</p>
<p><strong>Note</strong> Only the <code>client.destroy()</code> method will close a FileMaker session. Any client removed using the the <code>Filemaker.deleteOne(query)</code> method or the <code>Filemaker.deleteMany(query)</code> method will not log out before being destroyed.</p>
<h3>Client Use</h3><p>A client can be used after it is created and saved or recalled from the datastore. The <code>Filemaker.find(query)</code> or <code>Filemaker.findOne(query)</code> methods can be used to recall clients. The <code>filemaker.findOne(query)</code> method will return either an client or null. The <code>filemaker.find(query)</code> will return an array of clients. All public methods on the client are return promises.</p>
<!--@snippet('./examples/create.examples.js#create-many-records', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const createManyRecords = client =>
  Promise.all([
    client.create('Heroes', { name: 'Anakin Skywalker' }, { merge: true }),
    client.create('Heroes', { name: 'Obi-Wan' }, { merge: true }),
    client.create('Heroes', { name: 'Yoda' }, { merge: true })
  ]).then(result => log('create-many-records-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/create.examples.js#L28-L33">./examples/create.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Results:</p>
<!--@snippet('./examples/results/create-many-records-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>[
  {
    &quot;name&quot;: &quot;Anakin Skywalker&quot;,
    &quot;recordId&quot;: &quot;738823&quot;,
    &quot;modId&quot;: &quot;0&quot;
  },
  {
    &quot;name&quot;: &quot;Obi-Wan&quot;,
    &quot;recordId&quot;: &quot;738825&quot;,
    &quot;modId&quot;: &quot;0&quot;
  },
  {
    &quot;name&quot;: &quot;Yoda&quot;,
    &quot;recordId&quot;: &quot;738826&quot;,
    &quot;modId&quot;: &quot;0&quot;
  }
]</code></pre><blockquote>
<p>File <a href="./examples/results/create-many-records-example.json">./examples/results/create-many-records-example.json</a>
<!--/@--></p>
</blockquote>
<h3>Data API Sessions</h3><p>The client will automatically handle creating and closing Data API sessions. If required the client will authenticate and generate a new session token with each method call. The Data API session is also monitored, updated, and saved as the client interacts with the Data API. A client will always attempt to reuse a valid token whenever possible.</p>
<p>The client contains two methods related to Data API sessions.These methods are <code>client.login()</code> and <code>client.logout()</code>. The login method is used to start a Data API session and the logout method will end a Data API session.</p>
<h4>Login Method</h4><p>The client will automatically call the login method if it does not have a valid token. This method returns an object with a token property. This method will also save the token to the client's connection for future use.</p>
<p><code>client.login()</code></p>
<!--@snippet('./examples/authentication.examples.js#client-login-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const login = client => client.login();</code></pre><blockquote>
<p>Excerpt from <a href="./examples/authentication.examples.js#L11-L11">./examples/authentication.examples.js</a>
<!--/@--></p>
</blockquote>
<h4>Logout Method</h4><p>The logout method is used to end a Data API session. This method will also remove the current client's authentication token.</p>
<p><code>client.logout()</code></p>
<p><strong>Note</strong> The logout method will change in an upcoming release. It will be modified to accept a session parameter.</p>
<!--@snippet('./examples/authentication.examples.js#client-logout-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const logout = client =>
  client.logout().then(result => log('client-logout-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/authentication.examples.js#L6-L7">./examples/authentication.examples.js</a>
<!--/@--></p>
</blockquote>
<h3>Create Records</h3><p>Using the client you can create filemaker records. To create a record specify the layout to use and the data to insert on creation. The client will automatically convert numbers, arrays, and objects into strings so they can be inserted into a filemaker field.</p>
<p><code>client.create(layout, data, parameters)</code></p>
<table>
<thead>
<tr>
<th>Input</th>
<th style="text-align:right">Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>layout</td>
<td style="text-align:right">String</td>
<td>The layout to use as context for creating the record</td>
</tr>
<tr>
<td>data</td>
<td style="text-align:right">Object</td>
<td>The data to use when creating a record.</td>
</tr>
<tr>
<td>parameters</td>
<td style="text-align:right">Object</td>
<td>The parameters to use when creating a record.</td>
</tr>
</tbody>
</table>
<!--@snippet('./examples/create.examples.js#create-record-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const createRecord = client =>
  client
    .create('Heroes', {
      name: 'George Lucas'
    })
    .then(result => log('create-record-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/create.examples.js#L6-L11">./examples/create.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/create-record-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;recordId&quot;: &quot;738822&quot;,
  &quot;modId&quot;: &quot;0&quot;
}</code></pre><blockquote>
<p>File <a href="./examples/results/create-record-example.json">./examples/results/create-record-example.json</a>
<!--/@--></p>
</blockquote>
<p>Both the create method and the edit method accept a merge boolean in their options. If merge is true the data used to create or edit the filemaker record will be merged with</p>
<!--@snippet('./examples/create.examples.js#create-record-merge', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const mergeDataOnCreate = client =>
  client
    .create(
      'Heroes',
      {
        name: 'George Lucas'
      },
      { merge: true }
    )
    .then(result => log('create-record-merge-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/create.examples.js#L15-L24">./examples/create.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/create-record-merge-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;name&quot;: &quot;George Lucas&quot;,
  &quot;recordId&quot;: &quot;738824&quot;,
  &quot;modId&quot;: &quot;0&quot;
}</code></pre><blockquote>
<p>File <a href="./examples/results/create-record-merge-example.json">./examples/results/create-record-merge-example.json</a>
<!--/@--></p>
</blockquote>
<p>The create methods also allows you to trigger scripts when creating a record. Notice the scripts property in the following example. You can specify scripts to run using either FileMaker's script.key syntax or specify an array of scripts with a name, phase, and script parameter.</p>
<!--@snippet('./examples/create.examples.js#trigger-scripts-on-create', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const triggerScriptsOnCreate = client =>
  client
    .create(
      'Heroes',
      { name: 'Anakin Skywalker' },
      {
        merge: true,
        scripts: [
          { name: 'Create Droids', param: { droids: ['C3-PO', 'R2-D2'] } }
        ]
      }
    )
    .then(result => log('trigger-scripts-on-create-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/create.examples.js#L37-L49">./examples/create.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/trigger-scripts-on-create-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;name&quot;: &quot;Anakin Skywalker&quot;,
  &quot;scriptError&quot;: &quot;0&quot;,
  &quot;recordId&quot;: &quot;738827&quot;,
  &quot;modId&quot;: &quot;0&quot;
}</code></pre><blockquote>
<p>File <a href="./examples/results/trigger-scripts-on-create-example.json">./examples/results/trigger-scripts-on-create-example.json</a>
<!--/@--></p>
</blockquote>
<h3>Get Record Details</h3><p><code>client.get(layout, recordId, parameters)</code></p>
<!--@snippet('./examples/get.examples.js#get-record-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>      client
        .get('Heroes', response.data[0].recordId)
        .then(result => log('get-record-example', result))</code></pre><blockquote>
<p>Excerpt from <a href="./examples/get.examples.js#L9-L11">./examples/get.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/get-record-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;data&quot;: [
    {
      &quot;fieldData&quot;: {
        &quot;name&quot;: &quot;yoda&quot;,
        &quot;image(1)&quot;: &quot;https://some-server.com/Streaming_SSL/MainDB/98C6029AFE031625FD7B96A36AB3A5A690E8A2F7E09AB68E45366C25F33BA5EC?RCType=EmbeddedRCFileProcessor&quot;,
        &quot;object&quot;: &quot;&quot;,
        &quot;array&quot;: &quot;&quot;,
        &quot;height&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;EED86CE1-41D1-D847-AA9B-62B91E69D7D2&quot;
      },
      &quot;portalData&quot;: {
        &quot;Planets&quot;: [],
        &quot;Vehicles&quot;: []
      },
      &quot;recordId&quot;: &quot;733077&quot;,
      &quot;modId&quot;: &quot;1&quot;
    }
  ]
}</code></pre><blockquote>
<p>File <a href="./examples/results/get-record-example.json">./examples/results/get-record-example.json</a>
<!--/@--></p>
</blockquote>
<h3>List Records</h3><p>You can use the client to list filemaker records. The list method accepts a layout and parameter variable. The client will automatically santize the limit, offset, and sort keys to correspond with the DAPI's requirements.</p>
<p><code>client.list(layout, parameters)</code></p>
<!--@snippet('./examples/list.examples.js#list-records-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const listHeroes = client =>
  client
    .list('Heroes', { limit: 2 })
    .then(result => log('list-records-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/list.examples.js#L6-L9">./examples/list.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/list-records-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;data&quot;: [
    {
      &quot;fieldData&quot;: {
        &quot;name&quot;: &quot;George Lucas&quot;,
        &quot;image(1)&quot;: &quot;https://some-server.com/Streaming_SSL/MainDB/164DAF9AA28E4308B1EF6EC6236C0175B5E585C4A9F03D12465AE3AC616E7A0A?RCType=EmbeddedRCFileProcessor&quot;,
        &quot;object&quot;: &quot;&quot;,
        &quot;array&quot;: &quot;&quot;,
        &quot;height&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;0E6DF26C-761E-7947-9A3C-C312C285EE55&quot;
      },
      &quot;portalData&quot;: {
        &quot;Planets&quot;: [],
        &quot;Vehicles&quot;: []
      },
      &quot;recordId&quot;: &quot;732765&quot;,
      &quot;modId&quot;: &quot;6&quot;
    },
    {
      &quot;fieldData&quot;: {
        &quot;name&quot;: &quot;George Lucas&quot;,
        &quot;image(1)&quot;: &quot;&quot;,
        &quot;object&quot;: &quot;&quot;,
        &quot;array&quot;: &quot;&quot;,
        &quot;height&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;0F628510-432C-0E47-8D03-BA90AAF2EA17&quot;
      },
      &quot;portalData&quot;: {
        &quot;Planets&quot;: [],
        &quot;Vehicles&quot;: []
      },
      &quot;recordId&quot;: &quot;732766&quot;,
      &quot;modId&quot;: &quot;0&quot;
    }
  ]
}</code></pre><blockquote>
<p>File <a href="./examples/results/list-records-example.json">./examples/results/list-records-example.json</a>
<!--/@--></p>
</blockquote>
<h3>Find Records</h3><p>The client's find method will accept either a single object as find parameters or an array. The find method will also santize the limit, sort, and offset parameters to conform with the Data API's requirements.</p>
<p><code>client.find(layout, query, parameters)</code></p>
<!--@snippet('./examples/find.examples.js#find-records-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const findRecords = client =>
  client
    .find('Heroes', [{ name: 'Anakin Skywalker' }], { limit: 1 })
    .then(result => log('find-records-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/find.examples.js#L6-L9">./examples/find.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/find-records-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;data&quot;: [
    {
      &quot;fieldData&quot;: {
        &quot;name&quot;: &quot;Anakin Skywalker&quot;,
        &quot;image(1)&quot;: &quot;&quot;,
        &quot;object&quot;: &quot;&quot;,
        &quot;array&quot;: &quot;&quot;,
        &quot;height&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;9BBDF8D1-420A-9040-945B-90D5360DFDBF&quot;
      },
      &quot;portalData&quot;: {
        &quot;Planets&quot;: [],
        &quot;Vehicles&quot;: []
      },
      &quot;recordId&quot;: &quot;736951&quot;,
      &quot;modId&quot;: &quot;0&quot;
    }
  ]
}</code></pre><blockquote>
<p>File <a href="./examples/results/find-records-example.json">./examples/results/find-records-example.json</a>
<!--/@--></p>
</blockquote>
<h3>Edit Records</h3><p>The client's edit method requires a layout, recordId, and object to use for updating the record.</p>
<p><code>client.edit(layout, recordId, data, parameters)</code></p>
<!--@snippet('./examples/edit.examples.js#edit-record-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const editRecord = client =>
  client
    .find('Heroes', [{ name: 'Anakin Skywalker' }], { limit: 1 })
    .then(response => response.data[0].recordId)
    .then(recordId => client.edit('Heroes', recordId, { name: 'Darth Vader' }))
    .then(result => log('edit-record-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/edit.examples.js#L6-L11">./examples/edit.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/edit-record-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;modId&quot;: &quot;2&quot;
}</code></pre><blockquote>
<p>File <a href="./examples/results/edit-record-example.json">./examples/results/edit-record-example.json</a>
<!--/@--></p>
</blockquote>
<h3>Delete Records</h3><p>The client's delete method requires a layout and a record id.</p>
<p><code>client.delete(layout, recordId, parameters)</code></p>
<!--@snippet('./examples/delete.examples.js#delete-record-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const deleteRecords = client =>
  client
    .find('Heroes', [{ name: 'yoda' }], { limit: 1 })
    .then(response => response.data[0].recordId)
    .then(recordId => client.delete('Heroes', recordId))
    .then(result => log('delete-record-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/delete.examples.js#L6-L11">./examples/delete.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/delete-record-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{}</code></pre><blockquote>
<p>File <a href="./examples/results/delete-record-example.json">./examples/results/delete-record-example.json</a>
<!--/@--></p>
</blockquote>
<h3>Trigger Scripts</h3><p>The client's script method requires a script to run and a layout to run on.</p>
<p><code>client.script(layout, script, parameter)</code></p>
<!--@snippet('./examples/script.examples.js#script-trigger-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const triggerScript = client =>
  client
    .script('Heroes', 'FMS Triggered Script', { name: 'Han' })
    .then(result => log('script-trigger-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/script.examples.js#L6-L9">./examples/script.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/script-trigger-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;result&quot;: {
    &quot;answer&quot;: &quot;Han shot first&quot;
  }
}</code></pre><blockquote>
<p>File <a href="./examples/results/script-trigger-example.json">./examples/results/script-trigger-example.json</a>
<!--/@--></p>
</blockquote>
<h3>Upload Files</h3><p>The client's upload method will upload file data to a filemaker file. The upload method requires
a file path, layout, and container field name.</p>
<p><code>client.upload(file, layout, containerFieldName, recordId, fieldRepetition)</code></p>
<!--@snippet('./examples/upload.examples.js#upload-image-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const uploadImage = client =>
  client
    .upload('./assets/placeholder.md', 'Heroes', 'image')
    .then(result => log('upload-image-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/upload.examples.js#L6-L9">./examples/upload.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/upload-image-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;modId&quot;: &quot;1&quot;,
  &quot;recordId&quot;: &quot;738829&quot;
}</code></pre><blockquote>
<p>File <a href="./examples/results/upload-image-example.json">./examples/results/upload-image-example.json</a>
<!--/@--></p>
</blockquote>
<p>You can also provide a record Id to the upload method and the file will be uploaded to that
record.</p>
<!--@snippet('./examples/upload.examples.js#upload-specific-record-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>          client
            .upload('./assets/placeholder.md', 'Heroes', 'image', recordId)
            .then(result => log('upload-specific-record-example', result)),</code></pre><blockquote>
<p>Excerpt from <a href="./examples/upload.examples.js#L20-L22">./examples/upload.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/upload-specific-record-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{
  &quot;modId&quot;: &quot;1&quot;,
  &quot;recordId&quot;: &quot;733082&quot;
}</code></pre><blockquote>
<p>File <a href="./examples/results/upload-specific-record-example.json">./examples/results/upload-specific-record-example.json</a>
<!--/@--></p>
</blockquote>
<h3>Set Session Globals</h3><p>You can also use the client to set FileMaker Globals for the session.</p>
<p><code>client.globals(object)</code></p>
<!--@snippet('./examples/globals.examples.js#set-globals-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const setGlobals = client =>
    client
        .globals({ 'Globals::ship': 'Millenium Falcon' })
        .then(result => log('set-globals-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/globals.examples.js#L6-L9">./examples/globals.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/set-globals-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>{}</code></pre><blockquote>
<p>File <a href="./examples/results/set-globals-example.json">./examples/results/set-globals-example.json</a>
<!--/@--></p>
</blockquote>
<h3>Utility Methods</h3><p>The client also provides utility methods to aid in parsing and manipulating FileMaker Data. The client exports the <code>recordId(data)</code>, <code>fieldData(data)</code>, and <code>transform(data, options)</code> to aid in transforming Data API response data into other formats. Each utility method is capable of recieving either an object or a array.</p>
<h4>recordId Method</h4><p>The recordId method retrieves the <code>recordId</code> properties for a response. This method will return either a single string or an array of strings.</p>
<p><code>recordId(data)</code></p>
<!--@snippet('./examples/utility.examples.js#recordid-utility-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const extractRecordId = client =>
  client
    .find('Heroes', { name: 'yoda' }, { limit: 2 })
    .then(response => recordId(response.data))
    .then(result => log('recordid-utility-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/utility.examples.js#L7-L11">./examples/utility.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/recordid-utility-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>[
  &quot;733082&quot;,
  &quot;733085&quot;
]</code></pre><blockquote>
<p>File <a href="./examples/results/recordid-utility-example.json">./examples/results/recordid-utility-example.json</a>
<!--/@--></p>
</blockquote>
<h4>fieldData Method</h4><p>The fieldData method retrieves the <code>fieldData</code>, <code>recordId</code>, and <code>modId</code> properties from a Data API response. The fieldData method will merge the <code>recordId</code> and <code>modId</code> properties into fielData properties. This method will not convert <code>table::field</code> properties.</p>
<p><code>fieldData(data)</code></p>
<!--@snippet('./examples/utility.examples.js#fielddata-utility-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const extractFieldData = client =>
  client
    .find('Heroes', { name: 'yoda' }, { limit: 2 })
    .then(response => fieldData(response.data))
    .then(result => log('fielddata-utility-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/utility.examples.js#L15-L19">./examples/utility.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/fielddata-utility-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>[
  {
    &quot;name&quot;: &quot;Yoda&quot;,
    &quot;image(1)&quot;: &quot;https://some-server.com/Streaming_SSL/MainDB/E8456ED04499B8CC37C9AE21CA26D2058304C0E972B3981A96D74E091505A46B?RCType=EmbeddedRCFileProcessor&quot;,
    &quot;object&quot;: &quot;&quot;,
    &quot;array&quot;: &quot;&quot;,
    &quot;height&quot;: &quot;&quot;,
    &quot;id&quot;: &quot;E34C56D8-5EB8-B440-893F-19E0DE2022DE&quot;,
    &quot;recordId&quot;: &quot;733082&quot;,
    &quot;modId&quot;: &quot;1&quot;
  },
  {
    &quot;name&quot;: &quot;yoda&quot;,
    &quot;image(1)&quot;: &quot;&quot;,
    &quot;object&quot;: &quot;&quot;,
    &quot;array&quot;: &quot;&quot;,
    &quot;height&quot;: &quot;&quot;,
    &quot;id&quot;: &quot;C68FE194-03D7-E04E-AF72-9764DB492D0D&quot;,
    &quot;recordId&quot;: &quot;733085&quot;,
    &quot;modId&quot;: &quot;0&quot;
  }
]</code></pre><blockquote>
<p>File <a href="./examples/results/fielddata-utility-example.json">./examples/results/fielddata-utility-example.json</a>
<!--/@--></p>
</blockquote>
<h4>Transform Method</h4><p>The transform method converts Data API response data by converting <code>table::field</code> properties to objects. This method will transverse the response data and converting <code>{ table::field : value}</code> properties to <code>{ table:{ field : value } }</code>. The transform method will also convert <code>portalData</code> into arrays of objects. </p>
<p>The transform method accepts three option properties. The three option properties are all booleans and true by default. The three option properties are <code>convert</code>,<code>fieldData</code>,<code>portalData</code>. The <code>convert</code> property controls the transfomation of <code>table::field</code> properties. The <code>fieldData</code> property controls the merging of fieldData to the result. The <code>portalData</code> property controls the merging of portalData to the result. Setting any propery to false its transformation off. </p>
<p><code>transform(data,options)</code></p>
<!--@snippet('./examples/utility.examples.js#transform-utility-example', { showSource: true })-->
<pre class="prettyprint source lang-js"><code>const transformData = client =>
  client
    .find('Transform', { name: 'Han Solo' }, { limit: 1 })
    .then(result => transform(result.data))
    .then(result => log('transform-utility-example', result));</code></pre><blockquote>
<p>Excerpt from <a href="./examples/utility.examples.js#L23-L27">./examples/utility.examples.js</a>
<!--/@--></p>
</blockquote>
<p>Result:</p>
<!--@snippet('./examples/results/transform-utility-example.json', { showSource: true })-->
<pre class="prettyprint source lang-json"><code>[
  {
    &quot;starships&quot;: &quot;&quot;,
    &quot;vehicles&quot;: &quot;&quot;,
    &quot;species&quot;: &quot;&quot;,
    &quot;biography&quot;: &quot;&quot;,
    &quot;birthYear&quot;: &quot;&quot;,
    &quot;id&quot;: &quot;193B8CEE-00CE-D942-92F0-FEEF4DA87967&quot;,
    &quot;name&quot;: &quot;Han Solo&quot;,
    &quot;Planets&quot;: [
      {
        &quot;recordId&quot;: &quot;2&quot;,
        &quot;name&quot;: &quot;Coriella&quot;,
        &quot;modId&quot;: &quot;2&quot;
      }
    ],
    &quot;Vehicles&quot;: [
      {
        &quot;recordId&quot;: &quot;1&quot;,
        &quot;name&quot;: &quot;Millenium Falcon&quot;,
        &quot;type&quot;: &quot;Starship&quot;,
        &quot;modId&quot;: &quot;2&quot;
      }
    ],
    &quot;recordId&quot;: &quot;732824&quot;,
    &quot;modId&quot;: &quot;2&quot;
  }
]</code></pre><blockquote>
<p>File <a href="./examples/results/transform-utility-example.json">./examples/results/transform-utility-example.json</a>
<!--/@--></p>
</blockquote>
<h2>Tests</h2><pre class="prettyprint source lang-sh"><code>npm install
npm test</code></pre><!--@execute('npm run test',[])-->
<pre class="prettyprint source lang-default"><code>> fms-api-client@1.5.2 test /Users/luidelaparra/Documents/Development/fms-api-client
> nyc _mocha --recursive  ./tests --timeout=30000 --exit



  Authentication Capabilities
(node:21547) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
    ✓ should authenticate into FileMaker. (166ms)
    ✓ should automatically request an authentication token (180ms)
    ✓ should reuse a saved authentication token (182ms)
    ✓ should log out of the filemaker. (192ms)
    ✓ should not attempt a logout if there is no valid token.
    ✓ should reject if the logout request fails (191ms)
    ✓ should reject if the authentication request fails (1435ms)
    ✓ should attempt to log out before being removed (174ms)
    ✓ should catch the log out error before being removed if the login is not valid

  Create Capabilities
    ✓ should create FileMaker records. (185ms)
    ✓ should reject bad data with an error (85ms)
    ✓ should create records with mixed types (83ms)
    ✓ should substitute an empty object if data is not provided (84ms)
    ✓ should return an object with merged data properties (87ms)
    ✓ should allow you to run a script when creating a record with a merge response (93ms)
    ✓ should allow you to specify scripts as an array (96ms)
    ✓ should allow you to specify scripts as an array with a merge response (96ms)
    ✓ should sanitize parameters when creating a new record (99ms)
    ✓ should accept both the default script parameters and a scripts array (95ms)
    ✓ should remove an expired token (88ms)

  Delete Capabilities
    ✓ should delete FileMaker records. (274ms)
    ✓ should trigger scripts via an array when deleting records. (169ms)
    ✓ should trigger scripts via parameters when deleting records. (175ms)
    ✓ should allow you to mix script parameters and scripts array when deleting records. (171ms)
    ✓ should stringify script parameters. (176ms)
    ✓ should reject deletions that do not specify a recordId (83ms)
    ✓ should reject deletions that do not specify an invalid recordId (86ms)
    ✓ should remove an expired token (85ms)

  Edit Capabilities
    ✓ should edit FileMaker records.
    ✓ should reject bad data with an error (307ms)
    ✓ should return an object with merged filemaker and data properties
    ✓ should allow you to run a script when editing a record (198ms)
    ✓ should allow you to run a script via a scripts array when editing a record (180ms)
    ✓ should allow you to specify scripts as an array (180ms)
    ✓ should allow you to specify scripts as an array with a merge response (189ms)
    ✓ should sanitize parameters when creating a editing record (181ms)
    ✓ should accept both the default script parameters and a scripts array (178ms)
    ✓ should remove an expired token (160ms)

  FieldData Capabilities
    ✓ it should extract field data while maintaining the array (273ms)
    ✓ it should extract field data while maintaining the object (176ms)

  Find Capabilities
    ✓ should perform a find request (317ms)
    ✓ should allow you to use an object instead of an array for a find (221ms)
    ✓ should specify omit Criterea (130ms)
    ✓ should allow additional parameters to manipulate the results (83ms)
    ✓ should allow you to limit the number of portal records to return (89ms)
    ✓ should allow you to use numbers in the find query parameters (91ms)
    ✓ should allow you to sort the results (321ms)
    ✓ should return an empty array if the find does not return results (87ms)
    ✓ should allow you run a pre request script (90ms)
    ✓ should return a response even if a script fails (89ms)
    ✓ should allow you to send a parameter to the pre request script (94ms)
    ✓ should allow you run script after the find and before the sort (178ms)
    ✓ should allow you to pass a parameter to a script after the find and before the sort (195ms)
    ✓ should reject of there is an issue with the find request (84ms)
    ✓ should remove an expired token (79ms)

  Get Capabilities
    ✓ should get specific FileMaker records. (277ms)
    ✓ should reject get requests that do not specify a recordId (162ms)
    ✓ should allow you to limit the number of portal records to return (170ms)
    ✓ should accept namespaced portal limit and offset parameters (169ms)
    ✓ should remove an expired token (87ms)

  Global Capabilities
    ✓ should allow you to set session globals (188ms)
    ✓ should reject with a message and code if it fails to set a global (84ms)
    ✓ should remove an expired token (94ms)

  Request Interceptor Capabilities
    ✓ should reject if the server errors (413ms)
    ✓ should handle non JSON responses by rejecting with a json error (224ms)
    ✓ should reject non http requests to the server with a json error
 * Notice * Data API response does not contain a code. Only a message
    ✓ should reject non https requests to the server with a json error (141ms)

  List Capabilities
    ✓ should allow you to list records (315ms)
    ✓ should allow you use parameters to modify the list response (95ms)
    ✓ should should allow you to use numbers in parameters (89ms)
    ✓ should should allow you to provide an array of portals in parameters (89ms)
    ✓ should should remove non used properties from a portal object (88ms)
    ✓ should modify requests to comply with DAPI name reservations (95ms)
    ✓ should allow strings while complying with DAPI name reservations (81ms)
    ✓ should allow you to offset the list response (85ms)
    ✓ should santize parameters that would cause unexpected parameters (85ms)
    ✓ should allow you to limit the number of portal records to return (85ms)
    ✓ should accept namespaced portal limit and offset parameters (89ms)
    ✓ should reject invalid parameters (99ms)
    ✓ should remove an expired token (91ms)

  RecordId Capabilities
    ✓ it should extract the recordId while maintaining the array (275ms)
    ✓ it should extract recordId while maintaining the object (180ms)

  Script Capabilities
    ✓ should allow you to trigger a script (193ms)
    ✓ should allow you to trigger a script in a find (224ms)
    ✓ should allow you to trigger a script in a list (96ms)
    ✓ should allow reject a script that does not exist (82ms)
    ✓ should allow return a result even if a script returns an error (94ms)
    ✓ should parse script results if the results are json (104ms)
    ✓ should not parse script results if the results are not json (90ms)
    ✓ should parse an array of scripts (89ms)
    ✓ should trigger scripts on all three script phases (101ms)
    ✓ should remove an expired token (89ms)

  Storage
    ✓ should allow an instance to be created
    ✓ should allow an instance to be saved.
    ✓ should reject if a client can not be validated
    ✓ should allow an instance to be recalled
    ✓ should allow insances to be listed
    ✓ should allow you to remove an instance

  Transform Capabilities
    ✓ should merge portal data and field data from an array (327ms)
    ✓ should merge portal data and field data from an object (132ms)
    ✓ should optionally not convert table::field keys from an array (128ms)
    ✓ should optionally not convert table::field keys from an object (125ms)
    ✓ should allow you to remove field data from an array (131ms)
    ✓ should allow you to remove field data from an object (136ms)
    ✓ should allow you to remove portal data from an array (139ms)
    ✓ should allow you to remove portal data from an object (121ms)
    ✓ should merge portal data and portal data from an array (132ms)

  File Upload Capabilities
    ✓ should allow you to upload a file to a new record (1380ms)
    ✓ should allow you to upload a file to a specific container repetition (1388ms)
    ✓ should reject with a message if it can not find the file to upload
    ✓ should allow you to upload a file to a specific record (1263ms)
    ✓ should allow you to upload a file to a specific record container repetition (1498ms)
    ✓ should reject of the request is invalid (229ms)
    ✓ should remove an expired token (80ms)

  Data Usage 
    Tracks Data Usage
      ✓ should track API usage data. (176ms)
      ✓ should allow you to reset usage data. (89ms)
    Does Not Track Data Usage
      ✓ should not track data usage in (190ms)
      ✓ should not track data usage out (81ms)

  Utility Capabilities
    Omit Utility
      ✓ it should remove properties while maintaing the array
      ✓ it should remove properties while maintaing the object
    Parse Utility
      ✓ it should return a string when given a string
      ✓ it should return an object when given a stringified object


  122 passing (22s)

------------------------------|----------|----------|----------|----------|-------------------|
File                          |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
------------------------------|----------|----------|----------|----------|-------------------|
All files                     |      100 |      100 |      100 |      100 |                   |
 fms-api-client               |      100 |      100 |      100 |      100 |                   |
  index.js                    |      100 |      100 |      100 |      100 |                   |
 fms-api-client/src           |      100 |      100 |      100 |      100 |                   |
  client.model.js             |      100 |      100 |      100 |      100 |                   |
  connection.model.js         |      100 |      100 |      100 |      100 |                   |
  credentials.model.js        |      100 |      100 |      100 |      100 |                   |
  data.model.js               |      100 |      100 |      100 |      100 |                   |
  index.js                    |      100 |      100 |      100 |      100 |                   |
  request.service.js          |      100 |      100 |      100 |      100 |                   |
 fms-api-client/src/utilities |      100 |      100 |      100 |      100 |                   |
  conversion.utilities.js     |      100 |      100 |      100 |      100 |                   |
  filemaker.utilities.js      |      100 |      100 |      100 |      100 |                   |
  index.js                    |      100 |      100 |      100 |      100 |                   |
  transform.utilities.js      |      100 |      100 |      100 |      100 |                   |
 fms-api-client/tests         |      100 |      100 |      100 |      100 |                   |
  transform.tests.js          |      100 |      100 |      100 |      100 |                   |
------------------------------|----------|----------|----------|----------|-------------------|</code></pre><!--/@-->
<!--@dependencies()-->
<h2><a name="dependencies">Dependencies</a></h2><ul>
<li><a href="https://github.com/axios/axios">axios</a>: Promise based HTTP client for the browser and node.js</li>
<li><a href="https://github.com/form-data/form-data">form-data</a>: A library to create readable &quot;multipart/form-data&quot; streams. Can be used to submit forms and file uploads to other web applications.</li>
<li><a href="https://github.com/lodash/lodash">lodash</a>: Lodash modular utilities.</li>
<li><a href="https://github.com/luidog/marpat">marpat</a>: A class-based ES6 ODM for Mongo-like databases.</li>
<li><a href="https://github.com/moment/moment">moment</a>: Parse, validate, manipulate, and display dates</li>
<li><a href="https://github.com/miktam/sizeof">object-sizeof</a>: Sizeof of a JavaScript object in Bytes</li>
<li><a href="https://github.com/davglass/prettysize">prettysize</a>: Convert bytes to other sizes for prettier logging</li>
</ul>
<!--/@-->
<!--@devDependencies()-->
<h2><a name="dev-dependencies">Dev Dependencies</a></h2><ul>
<li><a href="https://github.com/chaijs/chai">chai</a>: BDD/TDD assertion library for node.js and the browser. Test framework agnostic.</li>
<li><a href="https://github.com/domenic/chai-as-promised">chai-as-promised</a>: Extends Chai with assertions about promises.</li>
<li><a href="https://github.com/Marak/colors.js">colors</a>: get colors in your node.js console</li>
<li><a href="https://github.com/nickmerwin/node-coveralls">coveralls</a>: takes json-cov output into stdin and POSTs to coveralls.io</li>
<li><a href="https://github.com/mcmath/deep-map">deep-map</a>: Transforms nested values of complex objects</li>
<li><a href="https://github.com/motdotla/dotenv">dotenv</a>: Loads environment variables from .env file</li>
<li><a href="https://github.com/eslint/eslint">eslint</a>: An AST-based pattern checker for JavaScript.</li>
<li><a href="https://github.com/google/eslint-config-google">eslint-config-google</a>: ESLint shareable config for the Google style</li>
<li><a href="https://github.com/prettier/eslint-config-prettier">eslint-config-prettier</a>: Turns off all rules that are unnecessary or might conflict with Prettier.</li>
<li><a href="https://github.com/prettier/eslint-plugin-prettier">eslint-plugin-prettier</a>: Runs prettier as an eslint rule</li>
<li><a href="https://github.com/jprichardson/node-fs-extra">fs-extra</a>: fs-extra contains methods that aren't included in the vanilla Node.js fs package. Such as mkdir -p, cp -r, and rm -rf.</li>
<li><a href="https://github.com/jsdoc3/jsdoc">jsdoc</a>: An API documentation generator for JavaScript.</li>
<li><a href="https://github.com/Nijikokun/minami">minami</a>: Clean and minimal JSDoc 3 Template / Theme</li>
<li><a href="https://github.com/mochajs/mocha">mocha</a>: simple, flexible, fun test framework</li>
<li><a href="https://github.com/StevenLooman/mocha-lcov-reporter">mocha-lcov-reporter</a>: LCOV reporter for Mocha</li>
<li><a href="https://github.com/mosjs/mos">mos</a>: A pluggable module that injects content into your markdown files via hidden JavaScript snippets</li>
<li><a href="https://github.com/mosjs/mos/tree/master/packages/mos-plugin-dependencies">mos-plugin-dependencies</a>: A mos plugin that creates dependencies sections</li>
<li><a href="https://github.com/team-767/mos-plugin-execute">mos-plugin-execute</a>: Mos plugin to inline a process output</li>
<li><a href="https://github.com/mosjs/mos/tree/master/packages/mos-plugin-installation">mos-plugin-installation</a>: A mos plugin for creating installation section</li>
<li><a href="https://github.com/mosjs/mos-plugin-license">mos-plugin-license</a>: A mos plugin for generating a license section</li>
<li><a href="https://github.com/mosjs/mos/tree/master/packages/mos-plugin-snippet">mos-plugin-snippet</a>: A mos plugin for embedding snippets from files</li>
<li><a href="https://github.com/istanbuljs/nyc">nyc</a>: the Istanbul command line interface</li>
<li><a href="https://github.com/prettier/prettier">prettier</a>: Prettier is an opinionated code formatter</li>
<li><a href="https://npmjs.org/package/varium">varium</a>: A strict parser and validator of environment config variables</li>
</ul>
<!--/@-->
<!--@license()-->
<h2>License</h2><p>MIT © Lui de la Parra
<!--/@--></p></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Oct 07 2018 21:56:54 GMT-0700 (Pacific Daylight Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>